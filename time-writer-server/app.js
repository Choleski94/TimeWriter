/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "../time-writer-event-sourcing/document/event-history/event-store-chain-reducer.js":
/*!*****************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-history/event-store-chain-reducer.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventStoreChainReducer; });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EventStoreChainReducer =\n/*#__PURE__*/\nfunction () {\n  function EventStoreChainReducer() {\n    _classCallCheck(this, EventStoreChainReducer);\n  }\n\n  _createClass(EventStoreChainReducer, [{\n    key: \"addEvent\",\n    value: function addEvent(chain, event) {\n      return [{\n        event: event,\n        state: null\n      }].concat(_toConsumableArray(chain));\n    }\n  }, {\n    key: \"removeEvent\",\n    value: function removeEvent(chain, event) {\n      var nodeIndex = chain.findIndex(function (node) {\n        return node.event === event;\n      });\n      var newChain = chain.filter(function (_, i) {\n        return i !== nodeIndex;\n      });\n\n      for (var index = 0; index < nodeIndex; index++) {\n        newChain[index].state = null;\n      }\n\n      return newChain;\n    }\n  }]);\n\n  return EventStoreChainReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-history/event-store-chain-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-history/event-store-cleanup.js":
/*!***********************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-history/event-store-cleanup.js ***!
  \***********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventStoreCleanup; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EventStoreCleanup =\n/*#__PURE__*/\nfunction () {\n  function EventStoreCleanup() {\n    _classCallCheck(this, EventStoreCleanup);\n  }\n\n  _createClass(EventStoreCleanup, [{\n    key: \"_cleanupStates\",\n    value: function _cleanupStates(chain) {\n      var cleanupEnd = this._closestIndexWithState(chain, Math.min(12, chain.length - 1));\n\n      for (var index = 1; index < cleanupEnd; index++) {\n        chain[index].state = null;\n      }\n    }\n  }, {\n    key: \"_closestIndexWithState\",\n    value: function _closestIndexWithState(chain, index) {\n      while (!chain[index].state) {\n        index--;\n      }\n\n      return index;\n    }\n  }, {\n    key: \"_cleanupLength\",\n    value: function _cleanupLength(chain) {\n      if (chain.length < 400) return;\n      chain.splice(this._closestIndexWithState(chain, 350) + 1);\n    }\n  }, {\n    key: \"cleanup\",\n    value: function cleanup(chain) {\n      this._cleanupLength(chain);\n\n      this._cleanupStates(chain);\n    }\n  }]);\n\n  return EventStoreCleanup;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-history/event-store-cleanup.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-history/event-store-repair.js":
/*!**********************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-history/event-store-repair.js ***!
  \**********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventStoreRepair; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EventStoreRepair =\n/*#__PURE__*/\nfunction () {\n  function EventStoreRepair() {\n    _classCallCheck(this, EventStoreRepair);\n  }\n\n  _createClass(EventStoreRepair, [{\n    key: \"_getTimestamp\",\n    value: function _getTimestamp(chain, index) {\n      return chain[index].event.timestamp;\n    }\n  }, {\n    key: \"_inRange\",\n    value: function _inRange(chain, index) {\n      return index >= 0 && index < chain.length;\n    }\n  }, {\n    key: \"_cleanState\",\n    value: function _cleanState(chain, index) {\n      chain[index].state = null;\n    }\n  }, {\n    key: \"_isTooFarAhead\",\n    value: function _isTooFarAhead(chain, index) {\n      if (!this._inRange(chain, index + 1)) return false;\n      return this._getTimestamp(chain, index) < this._getTimestamp(chain, index + 1);\n    }\n  }, {\n    key: \"_moveBackward\",\n    value: function _moveBackward(chain, index) {\n      var temp = chain[index + 1];\n      chain[index + 1] = chain[index];\n      chain[index] = temp;\n\n      this._cleanState(chain, index);\n\n      this._cleanState(chain, index + 1);\n    }\n  }, {\n    key: \"fix\",\n    value: function fix(chain) {\n      var index = 0;\n\n      while (this._isTooFarAhead(chain, index)) {\n        this._moveBackward(chain, index++);\n      }\n    }\n  }]);\n\n  return EventStoreRepair;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-history/event-store-repair.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-history/event-store-retrospector.js":
/*!****************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-history/event-store-retrospector.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventStoreRetrospector; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EventStoreRetrospector =\n/*#__PURE__*/\nfunction () {\n  function EventStoreRetrospector() {\n    _classCallCheck(this, EventStoreRetrospector);\n  }\n\n  _createClass(EventStoreRetrospector, [{\n    key: \"tryUpdateTimestamp\",\n    value: function tryUpdateTimestamp(chain, event, timestamp) {\n      var nodeIndex = this._findNodeIndex(chain, event);\n\n      if (nodeIndex === -1) throw new Error('Event not found');\n      if (nodeIndex === chain.length - 1) throw new Error('An attempt to update last node is an invalid operation');\n      if (!this._canUpdateTimestampWithoutMovingNode(chain, nodeIndex, timestamp)) return false;\n      chain[nodeIndex].event.timestamp = timestamp;\n      return true;\n    }\n  }, {\n    key: \"_canUpdateTimestampWithoutMovingNode\",\n    value: function _canUpdateTimestampWithoutMovingNode(chain, nodeIndex, timestamp) {\n      return (nodeIndex === 0 || chain[nodeIndex - 1].event.timestamp >= timestamp) && chain[nodeIndex + 1].event.timestamp <= timestamp;\n    }\n  }, {\n    key: \"_findNodeIndex\",\n    value: function _findNodeIndex(chain, event) {\n      return chain.findIndex(function (node) {\n        return node.event === event;\n      });\n    }\n  }]);\n\n  return EventStoreRetrospector;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-history/event-store-retrospector.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-history/event-store-state.js":
/*!*********************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-history/event-store-state.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventStoreState; });\n/* harmony import */ var _event_processing_event_reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../event-processing/event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducer.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar EventStoreState =\n/*#__PURE__*/\nfunction () {\n  function EventStoreState() {\n    _classCallCheck(this, EventStoreState);\n\n    this._eventReducer = new _event_processing_event_reducer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  _createClass(EventStoreState, [{\n    key: \"updateCurrentState\",\n    value: function updateCurrentState(chain) {\n      chain[0].state = this._getState(chain, 0);\n    }\n  }, {\n    key: \"_getState\",\n    value: function _getState(chain, index) {\n      var _this = this;\n\n      var undoLevels = new Map();\n      var events = [];\n\n      while (undoLevels.size || !chain[index].state) {\n        var event = chain[index].event;\n        if (!this._isHistoryEvent(event) && !this._shouldUndo(undoLevels, event)) events.push(event);\n\n        this._updateUndoLevel(undoLevels, event);\n\n        index++;\n      }\n\n      return events.reduceRight(function (state, event) {\n        return _this._reduceState(state, event);\n      }, chain[index].state);\n    }\n  }, {\n    key: \"_updateUndoLevel\",\n    value: function _updateUndoLevel(undoLevels, event) {\n      var key = this._getKey(event.author);\n\n      if (!undoLevels.has(key)) undoLevels.set(key, 0);\n      var level = undoLevels.get(key);\n      if (event.type === 'redo') level--;else if (event.type === 'undo') level++;else if (level > 0) level--;\n      if (level === 0) undoLevels.delete(key);else undoLevels.set(key, level);\n    }\n  }, {\n    key: \"_shouldUndo\",\n    value: function _shouldUndo(undoLevels, event) {\n      var key = this._getKey(event.author);\n\n      return undoLevels.has(key);\n    }\n  }, {\n    key: \"_getKey\",\n    value: function _getKey(user) {\n      return user ? user : null;\n    }\n  }, {\n    key: \"_reduceState\",\n    value: function _reduceState(state, event) {\n      if (this._isHistoryEvent(event)) return state;else return this._eventReducer.reduce(state, event);\n    }\n  }, {\n    key: \"_isHistoryEvent\",\n    value: function _isHistoryEvent(event) {\n      return event.type == 'undo' || event.type === 'redo';\n    }\n  }]);\n\n  return EventStoreState;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-history/event-store-state.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-history/event-store-validation.js":
/*!**************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-history/event-store-validation.js ***!
  \**************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventStoreValidation; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar EventStoreValidation =\n/*#__PURE__*/\nfunction () {\n  function EventStoreValidation() {\n    _classCallCheck(this, EventStoreValidation);\n  }\n\n  _createClass(EventStoreValidation, [{\n    key: \"validate\",\n    value: function validate(chain) {\n      var state = chain[0].state;\n      if (state.text.length > 10000) throw new Error('File too long');\n    }\n  }]);\n\n  return EventStoreValidation;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-history/event-store-validation.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-history/event-store.js":
/*!***************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-history/event-store.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventStore; });\n/* harmony import */ var _event_processing_event_reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../event-processing/event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducer.js\");\n/* harmony import */ var _event_store_repair__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-store-repair */ \"../time-writer-event-sourcing/document/event-history/event-store-repair.js\");\n/* harmony import */ var _event_store_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event-store-state */ \"../time-writer-event-sourcing/document/event-history/event-store-state.js\");\n/* harmony import */ var _event_store_cleanup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./event-store-cleanup */ \"../time-writer-event-sourcing/document/event-history/event-store-cleanup.js\");\n/* harmony import */ var _event_store_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./event-store-validation */ \"../time-writer-event-sourcing/document/event-history/event-store-validation.js\");\n/* harmony import */ var _event_store_retrospector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./event-store-retrospector */ \"../time-writer-event-sourcing/document/event-history/event-store-retrospector.js\");\n/* harmony import */ var _event_store_chain_reducer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./event-store-chain-reducer */ \"../time-writer-event-sourcing/document/event-history/event-store-chain-reducer.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\nvar EventStore =\n/*#__PURE__*/\nfunction () {\n  function EventStore(history) {\n    _classCallCheck(this, EventStore);\n\n    this._chain = history;\n    this._eventReducer = new _event_processing_event_reducer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this._eventStoreChainReducer = new _event_store_chain_reducer__WEBPACK_IMPORTED_MODULE_6__[\"default\"]();\n    this._eventStoreRepair = new _event_store_repair__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this._eventStoreState = new _event_store_state__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this._eventStoreCleanup = new _event_store_cleanup__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n    this._eventStoreValidation = new _event_store_validation__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n    this._eventStoreRetrospector = new _event_store_retrospector__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n  }\n\n  _createClass(EventStore, [{\n    key: \"add\",\n    value: function add(event) {\n      try {\n        var newChain = this._eventStoreChainReducer.addEvent(this._chain, event);\n\n        this._eventStoreRepair.fix(newChain);\n\n        this._eventStoreState.updateCurrentState(newChain);\n\n        this._eventStoreCleanup.cleanup(newChain);\n\n        this._eventStoreValidation.validate(newChain);\n\n        this._chain = newChain;\n      } catch (e) {\n        console.dir(e);\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"updateTimestamp\",\n    value: function updateTimestamp(event, timestamp) {\n      try {\n        if (this._eventStoreRetrospector.tryUpdateTimestamp(this._chain, event, timestamp)) return true;\n        console.log('Updating chain');\n        this._chain = this._eventStoreChainReducer.removeEvent(this._chain, event);\n        return this.add(_objectSpread({}, event, {\n          timestamp: timestamp\n        }));\n      } catch (e) {\n        console.dir(e);\n        return false;\n      }\n    }\n  }, {\n    key: \"history\",\n    get: function get() {\n      return this._chain;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._chain[0].state;\n    }\n  }]);\n\n  return EventStore;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-history/event-store.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducer.js":
/*!********************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducer.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventReducer; });\n/* harmony import */ var _event_reducers_navigation_navigation_event_reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-reducers/navigation/navigation-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducer.js\");\n/* harmony import */ var _event_reducers_insertion_insertion_event_reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./event-reducers/insertion/insertion-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-reducer.js\");\n/* harmony import */ var _event_reducers_deletion_deletion_event_reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./event-reducers/deletion/deletion-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-reducer.js\");\n/* harmony import */ var _event_reducers_caret_management_caret_management_event_reducer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./event-reducers/caret-management/caret-management-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducer.js\");\n/* harmony import */ var _event_reducers_postprocessing_postprocessing_redocer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./event-reducers/postprocessing/postprocessing-redocer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/postprocessing/postprocessing-redocer.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\nvar EventReducer =\n/*#__PURE__*/\nfunction () {\n  function EventReducer() {\n    _classCallCheck(this, EventReducer);\n\n    this.insertionEventReducer = new _event_reducers_insertion_insertion_event_reducer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.deletionEventReducer = new _event_reducers_deletion_deletion_event_reducer__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this.navigationEventReducer = new _event_reducers_navigation_navigation_event_reducer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.caretManagementEventReducer = new _event_reducers_caret_management_caret_management_event_reducer__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n    this.postprocessingReducer = new _event_reducers_postprocessing_postprocessing_redocer__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n  }\n\n  _createClass(EventReducer, [{\n    key: \"_getReducer\",\n    value: function _getReducer(event) {\n      switch (event.type) {\n        case 'insert':\n          return this.insertionEventReducer;\n\n        case 'delete':\n          return this.deletionEventReducer;\n\n        case 'navigate':\n          return this.navigationEventReducer;\n\n        case 'manage-carets':\n          return this.caretManagementEventReducer;\n\n        default:\n          throw new Error('Event not recognized');\n      }\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var reducer = this._getReducer(event);\n\n      return this.postprocessingReducer.reduce(reducer.reduce(document, event));\n    }\n  }]);\n\n  return EventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducer.js":
/*!*********************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducer.js ***!
  \*********************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CaretManagementEventReducer; });\n/* harmony import */ var _caret_management_event_reducers_caret_creation_event_reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./caret-management-event-reducers/caret-creation-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-creation-event-reducer.js\");\n/* harmony import */ var _caret_management_event_reducers_caret_removal_event_reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./caret-management-event-reducers/caret-removal-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-removal-event-reducer.js\");\n/* harmony import */ var _caret_management_event_reducers_selection_event_reducer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./caret-management-event-reducers/selection-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/selection-event-reducer.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar CaretManagementEventReducer =\n/*#__PURE__*/\nfunction () {\n  function CaretManagementEventReducer() {\n    _classCallCheck(this, CaretManagementEventReducer);\n\n    this.caretCreationEventReducer = new _caret_management_event_reducers_caret_creation_event_reducer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.caretRemovalEventReducer = new _caret_management_event_reducers_caret_removal_event_reducer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.selectionEventReducer = new _caret_management_event_reducers_selection_event_reducer__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  }\n\n  _createClass(CaretManagementEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var reducer = this._getReducer(event);\n\n      return reducer.reduce(document, event);\n    }\n  }, {\n    key: \"_getReducer\",\n    value: function _getReducer(event) {\n      switch (event.operation) {\n        case 'add-caret':\n          return this.caretCreationEventReducer;\n\n        case 'remove-carets':\n          return this.caretRemovalEventReducer;\n\n        case 'select':\n          return this.selectionEventReducer;\n      }\n    }\n  }]);\n\n  return CaretManagementEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-creation-event-reducer.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-creation-event-reducer.js ***!
  \***************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CaretCreationEventReducer; });\n/* harmony import */ var _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../services/text-navigation-service */ \"../time-writer-event-sourcing/services/text-navigation-service.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar CaretCreationEventReducer =\n/*#__PURE__*/\nfunction () {\n  function CaretCreationEventReducer() {\n    _classCallCheck(this, CaretCreationEventReducer);\n\n    this._textNavigationService = new _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  _createClass(CaretCreationEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      return _objectSpread({}, document, {\n        carets: this._reduceCarets(document, event)\n      });\n    }\n  }, {\n    key: \"_reduceCarets\",\n    value: function _reduceCarets(document, event) {\n      switch (event.placement) {\n        case 'position':\n          return this._addCaretOnPosition(document, event);\n\n        case 'all':\n          return this._addCaretOnAll(document, event);\n\n        case 'above':\n          return this._addCaretsVertically(document, event, -1);\n\n        case 'below':\n          return this._addCaretsVertically(document, event, 1);\n      }\n    }\n  }, {\n    key: \"_addCaretOnPosition\",\n    value: function _addCaretOnPosition(document, event) {\n      var position = this._textNavigationService.clipPosition(event.position, document.text);\n\n      return _toConsumableArray(this._processOldCarets(document.carets, event)).concat([{\n        owner: event.author,\n        beginPosition: position,\n        endPosition: position,\n        lastOperation: 'creation'\n      }]);\n    }\n  }, {\n    key: \"_processOldCarets\",\n    value: function _processOldCarets(carets, event) {\n      if (event.preserveExisting) return carets;\n      return carets.filter(function (caret) {\n        return caret.owner != caret.author;\n      });\n    }\n  }, {\n    key: \"_addCaretOnAll\",\n    value: function _addCaretOnAll(document, event) {\n      return _toConsumableArray(document.carets).concat([{\n        owner: event.author,\n        beginPosition: 0,\n        endPosition: document.text.length,\n        lastOperation: 'creation'\n      }]);\n    }\n  }, {\n    key: \"_addCaretsVertically\",\n    value: function _addCaretsVertically(document, event, direction) {\n      var _this = this;\n\n      var ownedCarets = document.carets.filter(function (caret) {\n        return caret.owner === event.author;\n      });\n      var newCarets = ownedCarets.map(function (caret) {\n        return _this._reduceCaretVertically(document, caret, direction);\n      });\n      return _toConsumableArray(document.carets).concat(_toConsumableArray(newCarets));\n    }\n  }, {\n    key: \"_reduceCaretVertically\",\n    value: function _reduceCaretVertically(document, caret, direction) {\n      var caretBeginCoordinates = this._textNavigationService.getCaretCoordinates(document.text, caret.beginPosition);\n\n      var newCaretBeginCoordinates = this._reduceCoordinatesVertically(caretBeginCoordinates, caret.beginColumn, caret.lastOperation, direction);\n\n      var caretEndCoordinates = this._textNavigationService.getCaretCoordinates(document.text, caret.endPosition);\n\n      var newCaretEndCoordinates = this._reduceCoordinatesVertically(caretEndCoordinates, caret.endColumn, caret.lastOperation, direction);\n\n      return _objectSpread({}, caret, {\n        beginPosition: this._textNavigationService.getCaretPosition(document.text, newCaretBeginCoordinates),\n        endPosition: this._textNavigationService.getCaretPosition(document.text, newCaretEndCoordinates),\n        beginColumn: newCaretBeginCoordinates.column,\n        endColumn: newCaretEndCoordinates.column,\n        lastOperation: 'creation vertical'\n      });\n    }\n  }, {\n    key: \"_reduceCoordinatesVertically\",\n    value: function _reduceCoordinatesVertically(coordinates, lastColumn, lastOperation, direction) {\n      var column = lastOperation !== 'creation vertical' ? coordinates.column : lastColumn;\n      return {\n        column: column,\n        line: coordinates.line + direction\n      };\n    }\n  }]);\n\n  return CaretCreationEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-creation-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-removal-event-reducer.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-removal-event-reducer.js ***!
  \**************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return CaretRemovalEventReducer; });\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar CaretRemovalEventReducer =\n/*#__PURE__*/\nfunction () {\n  function CaretRemovalEventReducer() {\n    _classCallCheck(this, CaretRemovalEventReducer);\n  }\n\n  _createClass(CaretRemovalEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      return _objectSpread({}, document, {\n        carets: this._reduceCarets(document.carets, event)\n      });\n    }\n  }, {\n    key: \"_reduceCarets\",\n    value: function _reduceCarets(carets, event) {\n      return _toConsumableArray(this._getOtherUsersCarets(carets, event)).concat(_toConsumableArray(this._getNewCarets(carets, event)));\n    }\n  }, {\n    key: \"_getOtherUsersCarets\",\n    value: function _getOtherUsersCarets(carets, event) {\n      return carets.filter(function (caret) {\n        return caret.owner != event.author;\n      });\n    }\n  }, {\n    key: \"_getNewCarets\",\n    value: function _getNewCarets(carets, event) {\n      if (!event.leaveFirst) return [];\n      var ownCarets = carets.filter(function (caret) {\n        return caret.owner === event.author;\n      });\n      if (!ownCarets.length) return [];\n      var position = Math.min.apply(Math, _toConsumableArray(ownCarets.map(function (caret) {\n        return caret.endPosition;\n      })));\n      return [{\n        owner: event.author,\n        beginPosition: position,\n        endPosition: position,\n        lastOperation: 'creation'\n      }];\n    }\n  }]);\n\n  return CaretRemovalEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/caret-removal-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/selection-event-reducer.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/selection-event-reducer.js ***!
  \**********************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SelectionEventReducer; });\n/* harmony import */ var _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../services/text-navigation-service */ \"../time-writer-event-sourcing/services/text-navigation-service.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar SelectionEventReducer =\n/*#__PURE__*/\nfunction () {\n  function SelectionEventReducer() {\n    _classCallCheck(this, SelectionEventReducer);\n\n    this._textNavigationService = new _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  _createClass(SelectionEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var _this = this;\n\n      return _objectSpread({}, document, {\n        carets: document.carets.map(function (caret) {\n          return _this._reduceCaret(document, event, caret);\n        })\n      });\n    }\n  }, {\n    key: \"_reduceCaret\",\n    value: function _reduceCaret(document, event, caret) {\n      if (caret.owner != event.author) return caret;\n      var beginPosition = caret.beginPosition;\n\n      var endPosition = this._textNavigationService.clipPosition(event.position, document.text);\n\n      return _objectSpread({}, caret, {\n        beginPosition: beginPosition,\n        endPosition: endPosition,\n        lastOperation: 'selection'\n      });\n    }\n  }]);\n\n  return SelectionEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/caret-management/caret-management-event-reducers/selection-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-caret-reducer.js":
/*!***********************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-caret-reducer.js ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DeletionEventCaretReducer; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DeletionEventCaretReducer =\n/*#__PURE__*/\nfunction () {\n  function DeletionEventCaretReducer() {\n    _classCallCheck(this, DeletionEventCaretReducer);\n  }\n\n  _createClass(DeletionEventCaretReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var _this = this;\n\n      return document.carets.map(function (caret) {\n        return _this._reduceCaret(caret, event);\n      });\n    }\n  }, {\n    key: \"_reduceCaret\",\n    value: function _reduceCaret(caret, event) {\n      return _objectSpread({}, caret, {\n        beginPosition: this._reducePosition(caret.beginPosition, event),\n        endPosition: this._reducePosition(caret.endPosition, event),\n        lastOperation: 'deletion'\n      });\n    }\n  }, {\n    key: \"_reducePosition\",\n    value: function _reducePosition(position, event) {\n      if (position <= event.beginPosition) return position;\n      if (position <= event.endPosition) return event.beginPosition;\n      return position - (event.endPosition - event.beginPosition);\n    }\n  }]);\n\n  return DeletionEventCaretReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-caret-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-pre-processing.js":
/*!************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-pre-processing.js ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DeletionEventPreProcessor; });\n/* harmony import */ var _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../services/text-navigation-service */ \"../time-writer-event-sourcing/services/text-navigation-service.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar DeletionEventPreProcessor =\n/*#__PURE__*/\nfunction () {\n  function DeletionEventPreProcessor() {\n    _classCallCheck(this, DeletionEventPreProcessor);\n\n    this._textNavigationService = new _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  _createClass(DeletionEventPreProcessor, [{\n    key: \"prepareEvent\",\n    value: function prepareEvent(document, event, caret) {\n      var pointA = caret.beginPosition;\n\n      var pointB = this._getRangeEnd(document, event, caret);\n\n      var begin = Math.min(pointA, pointB);\n      var end = Math.max(pointA, pointB);\n      return _objectSpread({}, event, {\n        beginPosition: this._clipPosition(document, begin),\n        endPosition: this._clipPosition(document, end),\n        caret: caret\n      });\n    }\n  }, {\n    key: \"_getRangeEnd\",\n    value: function _getRangeEnd(document, event, caret) {\n      if (caret.beginPosition != caret.endPosition) return caret.endPosition;\n      if (event.mode == 'backward' && event.fast) return this._textNavigationService.getPreviousFastPosition(document.text, caret.endPosition);\n      if (event.mode == 'backward') return caret.beginPosition - 1;\n      if (event.mode == 'forward' && event.fast) return this._textNavigationService.getNextFastPosition(document.text, caret.endPosition);\n      if (event.mode == 'forward') return caret.beginPosition + 1;\n      return caret.endPosition;\n    }\n  }, {\n    key: \"_clipPosition\",\n    value: function _clipPosition(document, position) {\n      return Math.max(0, Math.min(document.text.length, position));\n    }\n  }]);\n\n  return DeletionEventPreProcessor;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-pre-processing.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-reducer.js":
/*!*****************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-reducer.js ***!
  \*****************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DeletionEventReducer; });\n/* harmony import */ var _deletion_event_text_reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./deletion-event-text-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-text-reducer.js\");\n/* harmony import */ var _deletion_event_caret_reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./deletion-event-caret-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-caret-reducer.js\");\n/* harmony import */ var _deletion_event_pre_processing__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./deletion-event-pre-processing */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-pre-processing.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar DeletionEventReducer =\n/*#__PURE__*/\nfunction () {\n  function DeletionEventReducer() {\n    _classCallCheck(this, DeletionEventReducer);\n\n    this._eventPreProcessor = new _deletion_event_pre_processing__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this._textReducer = new _deletion_event_text_reducer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this._caretReducer = new _deletion_event_caret_reducer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n\n  _createClass(DeletionEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      for (var caret in document.carets) {\n        document = this._reduceUsingCaret(document, event, document.carets[caret]);\n      }\n\n      return document;\n    }\n  }, {\n    key: \"_reduceUsingCaret\",\n    value: function _reduceUsingCaret(document, event, caret) {\n      if (event.author !== caret.owner) return document;\n      event = this._eventPreProcessor.prepareEvent(document, event, caret);\n      return _objectSpread({}, document, {\n        text: this._textReducer.reduce(document, event),\n        carets: this._caretReducer.reduce(document, event)\n      });\n    }\n  }]);\n\n  return DeletionEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-text-reducer.js":
/*!**********************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-text-reducer.js ***!
  \**********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DeletionEventTextReducer; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar DeletionEventTextReducer =\n/*#__PURE__*/\nfunction () {\n  function DeletionEventTextReducer() {\n    _classCallCheck(this, DeletionEventTextReducer);\n  }\n\n  _createClass(DeletionEventTextReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var firstTextPart = document.text.substring(0, event.beginPosition);\n      var secondTextPart = document.text.substring(event.endPosition);\n      return \"\".concat(firstTextPart).concat(secondTextPart);\n    }\n  }]);\n\n  return DeletionEventTextReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/deletion/deletion-event-text-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-caret-reducer.js":
/*!*************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-caret-reducer.js ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InsertionEventCaretReducer; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar InsertionEventCaretReducer =\n/*#__PURE__*/\nfunction () {\n  function InsertionEventCaretReducer() {\n    _classCallCheck(this, InsertionEventCaretReducer);\n  }\n\n  _createClass(InsertionEventCaretReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var _this = this;\n\n      return document.carets.map(function (caret) {\n        return _this._reduceCaret(caret, event);\n      });\n    }\n  }, {\n    key: \"_reduceCaret\",\n    value: function _reduceCaret(caret, event) {\n      return _objectSpread({}, caret, {\n        beginPosition: this._reducePosition(caret.beginPosition, event),\n        endPosition: this._reducePosition(caret.endPosition, event),\n        lastOperation: 'insertion'\n      });\n    }\n  }, {\n    key: \"_reducePosition\",\n    value: function _reducePosition(position, event) {\n      if (position < event.beginPosition) return position;\n      if (position <= event.endPosition) return event.beginPosition + event.text.length;\n      return position - (event.endPosition - event.beginPosition) + event.text.length;\n    }\n  }]);\n\n  return InsertionEventCaretReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-caret-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-pre-processor.js":
/*!*************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-pre-processor.js ***!
  \*************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InsertionEventPreProcessor; });\n/* harmony import */ var _services_text_formatting_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../services/text-formatting-service */ \"../time-writer-event-sourcing/services/text-formatting-service.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar InsertionEventPreProcessor =\n/*#__PURE__*/\nfunction () {\n  function InsertionEventPreProcessor() {\n    _classCallCheck(this, InsertionEventPreProcessor);\n\n    this._textFormattingService = new _services_text_formatting_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  _createClass(InsertionEventPreProcessor, [{\n    key: \"prepareEvent\",\n    value: function prepareEvent(document, event, caret) {\n      var begin = Math.min(caret.beginPosition, caret.endPosition);\n      var end = Math.max(caret.beginPosition, caret.endPosition);\n      return _objectSpread({}, event, {\n        text: this._prepareEventText(document, event, caret),\n        beginPosition: begin,\n        endPosition: end\n      });\n    }\n  }, {\n    key: \"_prepareEventText\",\n    value: function _prepareEventText(document, event, caret) {\n      if (event.text !== '\\n') return event.text;\n\n      var indent = this._textFormattingService.getIndentAtPosition(document.text, caret.beginPosition);\n\n      return \"\\n\".concat('\\t'.repeat(indent));\n    }\n  }]);\n\n  return InsertionEventPreProcessor;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-pre-processor.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-reducer.js":
/*!*******************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-reducer.js ***!
  \*******************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InsertionEventReducer; });\n/* harmony import */ var _insertion_event_text_reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./insertion-event-text-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-text-reducer.js\");\n/* harmony import */ var _insertion_event_caret_reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./insertion-event-caret-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-caret-reducer.js\");\n/* harmony import */ var _insertion_event_pre_processor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./insertion-event-pre-processor */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-pre-processor.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar InsertionEventReducer =\n/*#__PURE__*/\nfunction () {\n  function InsertionEventReducer() {\n    _classCallCheck(this, InsertionEventReducer);\n\n    this._eventPreProcessor = new _insertion_event_pre_processor__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n    this._textReducer = new _insertion_event_text_reducer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this._caretReducer = new _insertion_event_caret_reducer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n\n  _createClass(InsertionEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      for (var caret in document.carets) {\n        document = this._reduceUsingCaret(document, event, document.carets[caret]);\n      }\n\n      return document;\n    }\n  }, {\n    key: \"_reduceUsingCaret\",\n    value: function _reduceUsingCaret(document, event, caret) {\n      if (event.author !== caret.owner) return document;\n      event = this._eventPreProcessor.prepareEvent(document, event, caret);\n      return _objectSpread({}, document, {\n        text: this._textReducer.reduce(document, event),\n        carets: this._caretReducer.reduce(document, event)\n      });\n    }\n  }]);\n\n  return InsertionEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-text-reducer.js":
/*!************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-text-reducer.js ***!
  \************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return InsertionEventTextReducer; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar InsertionEventTextReducer =\n/*#__PURE__*/\nfunction () {\n  function InsertionEventTextReducer() {\n    _classCallCheck(this, InsertionEventTextReducer);\n  }\n\n  _createClass(InsertionEventTextReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var firstTextPart = document.text.substring(0, event.beginPosition);\n      var secondTextPart = document.text.substring(event.endPosition);\n      return \"\".concat(firstTextPart).concat(event.text).concat(secondTextPart);\n    }\n  }]);\n\n  return InsertionEventTextReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/insertion/insertion-event-text-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducer.js":
/*!*********************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducer.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return NavigationEventReducer; });\n/* harmony import */ var _navigation_event_reducers_vertical_navigation_event_reducer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./navigation-event-reducers/vertical-navigation-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/vertical-navigation-event-reducer.js\");\n/* harmony import */ var _navigation_event_reducers_horizontal_navigation_event_reducer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./navigation-event-reducers/horizontal-navigation-event-reducer */ \"../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/horizontal-navigation-event-reducer.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar NavigationEventReducer =\n/*#__PURE__*/\nfunction () {\n  function NavigationEventReducer() {\n    _classCallCheck(this, NavigationEventReducer);\n\n    this.verticalNavigationEventReducer = new _navigation_event_reducers_vertical_navigation_event_reducer__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.horizontalNavigationEventReducer = new _navigation_event_reducers_horizontal_navigation_event_reducer__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n\n  _createClass(NavigationEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var reducer = this._getReducer(event);\n\n      return reducer.reduce(document, event);\n    }\n  }, {\n    key: \"_getReducer\",\n    value: function _getReducer(event) {\n      switch (event.mode) {\n        case 'move-horizontally':\n          return this.horizontalNavigationEventReducer;\n\n        case 'move-vertically':\n          return this.verticalNavigationEventReducer;\n      }\n    }\n  }]);\n\n  return NavigationEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/horizontal-navigation-event-reducer.js":
/*!**********************************************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/horizontal-navigation-event-reducer.js ***!
  \**********************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return HorizontalNavigationEventReducer; });\n/* harmony import */ var _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../services/text-navigation-service */ \"../time-writer-event-sourcing/services/text-navigation-service.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar HorizontalNavigationEventReducer =\n/*#__PURE__*/\nfunction () {\n  function HorizontalNavigationEventReducer() {\n    _classCallCheck(this, HorizontalNavigationEventReducer);\n\n    this._textNavigationService = new _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  _createClass(HorizontalNavigationEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var _this = this;\n\n      return _objectSpread({}, document, {\n        carets: document.carets.map(function (caret) {\n          return _this._reduceCaret(document.text, event, caret);\n        })\n      });\n    }\n  }, {\n    key: \"_reduceCaret\",\n    value: function _reduceCaret(text, event, caret) {\n      if (caret.owner !== event.author) return caret;\n\n      var newPosition = this._textNavigationService.clipPosition(this._getNewPosition(text, event, caret), text);\n\n      return _objectSpread({}, caret, {\n        beginPosition: event.select ? caret.beginPosition : newPosition,\n        endPosition: newPosition,\n        lastOperation: 'navigation horizontal'\n      });\n    }\n  }, {\n    key: \"_getNewPosition\",\n    value: function _getNewPosition(text, event, caret) {\n      if (event.direction === 'left' && event.fast) return this._textNavigationService.getPreviousFastPosition(text, caret.endPosition);\n      if (event.direction === 'left') return caret.endPosition - 1;\n      if (event.direction === 'right' && event.fast) return this._textNavigationService.getNextFastPosition(text, caret.endPosition);\n      if (event.direction === 'right') return caret.endPosition + 1;\n    }\n  }]);\n\n  return HorizontalNavigationEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/horizontal-navigation-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/vertical-navigation-event-reducer.js":
/*!********************************************************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/vertical-navigation-event-reducer.js ***!
  \********************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VerticalNavigationEventReducer; });\n/* harmony import */ var _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../services/text-navigation-service */ \"../time-writer-event-sourcing/services/text-navigation-service.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar VerticalNavigationEventReducer =\n/*#__PURE__*/\nfunction () {\n  function VerticalNavigationEventReducer() {\n    _classCallCheck(this, VerticalNavigationEventReducer);\n\n    this.textNavigationService = new _services_text_navigation_service__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  }\n\n  _createClass(VerticalNavigationEventReducer, [{\n    key: \"reduce\",\n    value: function reduce(document, event) {\n      var _this = this;\n\n      var text = document.text;\n      return _objectSpread({}, document, {\n        carets: document.carets.map(function (caret) {\n          return _this._reduceCaret(text, caret, event);\n        })\n      });\n    }\n  }, {\n    key: \"_reduceCaret\",\n    value: function _reduceCaret(text, caret, event) {\n      if (caret.owner !== event.author) return caret;\n      return this._reduceOwnedCaret(text, caret, event);\n    }\n  }, {\n    key: \"_reduceOwnedCaret\",\n    value: function _reduceOwnedCaret(text, caret, event) {\n      var caretCoordinates = this.textNavigationService.getCaretCoordinates(text, caret.endPosition);\n\n      var newCaretCoordinates = this._reduceCaretCoordinates(caret, caretCoordinates, event);\n\n      var newCaretPosition = this.textNavigationService.getCaretPosition(text, newCaretCoordinates);\n      return _objectSpread({}, caret, {\n        beginPosition: event.select ? caret.beginPosition : newCaretPosition,\n        endPosition: newCaretPosition,\n        lastOperation: 'navigation vertical',\n        endColumn: newCaretCoordinates.column\n      });\n    }\n  }, {\n    key: \"_reduceCaretCoordinates\",\n    value: function _reduceCaretCoordinates(caret, coordinates, event) {\n      var column = caret.lastOperation !== 'navigation vertical' ? coordinates.column : caret.endColumn;\n      return {\n        column: column,\n        line: coordinates.line + this._getOffset(event)\n      };\n    }\n  }, {\n    key: \"_getOffset\",\n    value: function _getOffset(event) {\n      if (event.direction === 'up') return -1;\n      if (event.direction === 'down') return 1;\n    }\n  }]);\n\n  return VerticalNavigationEventReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/navigation/navigation-event-reducers/vertical-navigation-event-reducer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/event-processing/event-reducers/postprocessing/postprocessing-redocer.js":
/*!***********************************************************************************************************************!*\
  !*** ../time-writer-event-sourcing/document/event-processing/event-reducers/postprocessing/postprocessing-redocer.js ***!
  \***********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return PostprocessingReducer; });\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar PostprocessingReducer =\n/*#__PURE__*/\nfunction () {\n  function PostprocessingReducer() {\n    _classCallCheck(this, PostprocessingReducer);\n  }\n\n  _createClass(PostprocessingReducer, [{\n    key: \"reduce\",\n    value: function reduce(document) {\n      return _objectSpread({}, document, {\n        carets: this._removeDuplicateCarets(document.carets)\n      });\n    }\n  }, {\n    key: \"_removeDuplicateCarets\",\n    value: function _removeDuplicateCarets(carets) {\n      var _this = this;\n\n      return carets.filter(function (caretA, index) {\n        return index === carets.findIndex(function (caretB) {\n          return _this._compareCarets(caretA, caretB);\n        });\n      });\n    }\n  }, {\n    key: \"_compareCarets\",\n    value: function _compareCarets(caretA, caretB) {\n      return caretA.owner === caretB.owner && Math.min(caretA.beginPosition, caretA.endPosition) === Math.min(caretB.beginPosition, caretB.endPosition) && Math.max(caretA.beginPosition, caretA.endPosition) === Math.max(caretB.beginPosition, caretB.endPosition);\n    }\n  }]);\n\n  return PostprocessingReducer;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/event-processing/event-reducers/postprocessing/postprocessing-redocer.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/document/text-document.js":
/*!***************************************************************!*\
  !*** ../time-writer-event-sourcing/document/text-document.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextDocument; });\n/* harmony import */ var _event_history_event_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./event-history/event-store */ \"../time-writer-event-sourcing/document/event-history/event-store.js\");\n/* harmony import */ var _samples_sample_text__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../samples/sample-text */ \"../time-writer-event-sourcing/samples/sample-text.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar TextDocument =\n/*#__PURE__*/\nfunction () {\n  function TextDocument(history) {\n    _classCallCheck(this, TextDocument);\n\n    if (!history) history = [{\n      event: {\n        timestamp: Date.now()\n      },\n      state: {\n        carets: [],\n        text: _samples_sample_text__WEBPACK_IMPORTED_MODULE_1__[\"sampleText\"]\n      }\n    }];\n    this._eventStore = new _event_history_event_store__WEBPACK_IMPORTED_MODULE_0__[\"default\"](history);\n  }\n\n  _createClass(TextDocument, [{\n    key: \"addEvent\",\n    value: function addEvent(event) {\n      return this._eventStore.add(event);\n    }\n  }, {\n    key: \"updateTimestamp\",\n    value: function updateTimestamp(event, timestamp) {\n      return this._eventStore.updateTimestamp(event, timestamp);\n    }\n  }, {\n    key: \"history\",\n    get: function get() {\n      return this._eventStore.history;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return this._eventStore.state;\n    }\n  }]);\n\n  return TextDocument;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/document/text-document.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/samples/sample-text.js":
/*!************************************************************!*\
  !*** ../time-writer-event-sourcing/samples/sample-text.js ***!
  \************************************************************/
/*! exports provided: sampleText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sampleText\", function() { return sampleText; });\nvar sampleText = \"import React, {Component} from 'react';\\n\\nexport default class MyComponent extends Component {\\n\\tconstructor(props) {\\n\\t\\tsuper(props);\\n\\t\\t\\n\\t\\tthis.click = this.click.bind(this);\\n\\t}\\n\\t\\n\\tclick() {\\n\\t\\tconsole.log('Hello world');\\n\\t}\\n\\t\\n\\trender() {\\n\\t\\treturn (\\n\\t\\t\\t<div click={this.click}>\\n\\t\\t\\t\\tClick me\\n\\t\\t\\t</div>\\n\\t\\t);\\n\\t}\\n}\";\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/samples/sample-text.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/services/text-formatting-service.js":
/*!*************************************************************************!*\
  !*** ../time-writer-event-sourcing/services/text-formatting-service.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextFormattingService; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TextFormattingService =\n/*#__PURE__*/\nfunction () {\n  function TextFormattingService() {\n    _classCallCheck(this, TextFormattingService);\n  }\n\n  _createClass(TextFormattingService, [{\n    key: \"getIndentAtPosition\",\n    value: function getIndentAtPosition(text, position) {\n      var indent = 0;\n\n      for (var i = position - 1; i >= 0 && text[i] !== '\\n'; i--) {\n        indent = this._reduceIndent(indent, text[i]);\n      }\n\n      return indent;\n    }\n  }, {\n    key: \"_reduceIndent\",\n    value: function _reduceIndent(indent, character) {\n      if (character === '\\t') return indent + 1;else return 0;\n    }\n  }]);\n\n  return TextFormattingService;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/services/text-formatting-service.js?");

/***/ }),

/***/ "../time-writer-event-sourcing/services/text-navigation-service.js":
/*!*************************************************************************!*\
  !*** ../time-writer-event-sourcing/services/text-navigation-service.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return TextNavigationService; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TextNavigationService =\n/*#__PURE__*/\nfunction () {\n  function TextNavigationService() {\n    _classCallCheck(this, TextNavigationService);\n  }\n\n  _createClass(TextNavigationService, [{\n    key: \"countLines\",\n    value: function countLines(text) {\n      var counter = 1;\n\n      for (var i = 0; i < text.length; i++) {\n        if (text[i] === '\\n') counter++;\n      }\n\n      return counter;\n    }\n  }, {\n    key: \"getLineBegin\",\n    value: function getLineBegin(text, position) {\n      while (position > 0 && text[position - 1] != '\\n') {\n        position--;\n      }\n\n      return position;\n    }\n  }, {\n    key: \"getLineEnd\",\n    value: function getLineEnd(text, position) {\n      while (position < text.length && text[position] != '\\n') {\n        position++;\n      }\n\n      return position;\n    }\n  }, {\n    key: \"getFragmentWidth\",\n    value: function getFragmentWidth(text, begin, end, startColumn) {\n      var column = startColumn;\n\n      for (var index = begin; index < end; index++) {\n        column += this._getCharacterWidth(text[index], column);\n      }\n\n      return column - startColumn;\n    }\n  }, {\n    key: \"getColumn\",\n    value: function getColumn(text, position) {\n      var lineBegin = this.getLineBegin(text, position);\n      return this.getFragmentWidth(text, lineBegin, position, 0);\n    }\n  }, {\n    key: \"getLine\",\n    value: function getLine(text, position) {\n      var line = 0;\n\n      for (var i = 0; i < position; i++) {\n        if (text[i] == '\\n') line++;\n      }\n\n      return line;\n    }\n  }, {\n    key: \"getCaretCoordinates\",\n    value: function getCaretCoordinates(text, position) {\n      position = this.clipPosition(position, text);\n      return {\n        line: this.getLine(text, position),\n        column: this.getColumn(text, position)\n      };\n    }\n  }, {\n    key: \"getCaretPosition\",\n    value: function getCaretPosition(text, coordinates) {\n      var position = 0;\n\n      for (var line = 0; line < coordinates.line && position < text.length; position++) {\n        if (text[position] == '\\n') line++;\n      }\n\n      for (var column = 0; column < coordinates.column && position < text.length && text[position] != '\\n'; position++) {\n        column += this._getCharacterWidth(text[position], column);\n      }\n\n      return position;\n    }\n  }, {\n    key: \"getEndOfLineColumn\",\n    value: function getEndOfLineColumn(text, position) {\n      var lineBegin = this.getLineBegin(text, position);\n      var lineEnd = this.getLineEnd(text, position);\n      return this.getFragmentWidth(text, lineBegin, lineEnd, 0);\n    }\n  }, {\n    key: \"getEndOfLinePosition\",\n    value: function getEndOfLinePosition(text, position) {\n      while (position < text.length && text[position] != '\\n') {\n        position++;\n      }\n\n      return position;\n    }\n  }, {\n    key: \"getNextFastPosition\",\n    value: function getNextFastPosition(text, position) {\n      if (position == text.length) return position;\n\n      var template = this._getCharacterTemplate(text[position]);\n\n      while (position < text.length && template.test(text[position])) {\n        position++;\n      }\n\n      return position;\n    }\n  }, {\n    key: \"getPreviousFastPosition\",\n    value: function getPreviousFastPosition(text, position) {\n      if (position == 0) return position;\n\n      var template = this._getCharacterTemplate(text[position - 1]);\n\n      while (position > 0 && template.test(text[position - 1])) {\n        position--;\n      }\n\n      return position;\n    }\n  }, {\n    key: \"clipPosition\",\n    value: function clipPosition(position, text) {\n      return Math.max(0, Math.min(text.length, position));\n    }\n  }, {\n    key: \"compareCoordinates\",\n    value: function compareCoordinates(a, b) {\n      return a === b || !!a && !!b && a.column === b.column && a.line == b.line;\n    }\n  }, {\n    key: \"_getCharacterWidth\",\n    value: function _getCharacterWidth(character, column) {\n      switch (character) {\n        case '\\t':\n          return Math.ceil((column + 1) / 4) * 4 - column;\n\n        default:\n          return 1;\n      }\n    }\n  }, {\n    key: \"_getCharacterTemplate\",\n    value: function _getCharacterTemplate(character) {\n      var templates = [/[\\t ]/, /[\\w]/, /[^\\w\\t ]/];\n\n      for (var _i = 0; _i < templates.length; _i++) {\n        var template = templates[_i];\n        if (template.test(character)) return template;\n      }\n    }\n  }, {\n    key: \"_isWhiteSpace\",\n    value: function _isWhiteSpace(character) {\n      return /[\\n\\t ]/.test(character);\n    }\n  }, {\n    key: \"_isLetter\",\n    value: function _isLetter(character) {\n      return /[\\w]/.test(character);\n    }\n  }, {\n    key: \"_isSpecialCharacter\",\n    value: function _isSpecialCharacter(character) {\n      return !this._isLetter(character) && !this._isWhiteSpace(character);\n    }\n  }]);\n\n  return TextNavigationService;\n}();\n\n\n\n//# sourceURL=webpack:///../time-writer-event-sourcing/services/text-navigation-service.js?");

/***/ }),

/***/ "./documents/document-repository.js":
/*!******************************************!*\
  !*** ./documents/document-repository.js ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _time_writer_event_sourcing_document_text_document__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../time-writer-event-sourcing/document/text-document */ \"../time-writer-event-sourcing/document/text-document.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar DocumentRepository =\n/*#__PURE__*/\nfunction () {\n  function DocumentRepository() {\n    _classCallCheck(this, DocumentRepository);\n\n    this._documents = new Map();\n  }\n\n  _createClass(DocumentRepository, [{\n    key: \"getDocument\",\n    value: function getDocument(documentId) {\n      this._createIfDoesntExist(documentId);\n\n      var document = this._documents.get(documentId);\n\n      document.lastAccess = new Date();\n      return document;\n    }\n  }, {\n    key: \"removeOldDocuments\",\n    value: function removeOldDocuments() {\n      var ageLimit = new Date();\n      ageLimit.setDate(ageLimit.getDate() - 3);\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this._documents.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var document = _step.value;\n          if (this._documents.get(document).lastAccess < ageLimit) this._documents.delete(document);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return != null) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_createIfDoesntExist\",\n    value: function _createIfDoesntExist(documentId) {\n      if (!this._documents.has(documentId)) this._documents.set(documentId, new _time_writer_event_sourcing_document_text_document__WEBPACK_IMPORTED_MODULE_0__[\"default\"]());\n    }\n  }]);\n\n  return DocumentRepository;\n}();\n\nvar documentRepository = new DocumentRepository();\n/* harmony default export */ __webpack_exports__[\"default\"] = (documentRepository);\n\n//# sourceURL=webpack:///./documents/document-repository.js?");

/***/ }),

/***/ "./src/get.js":
/*!********************!*\
  !*** ./src/get.js ***!
  \********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return getDocument; });\n/* harmony import */ var _documents_document_repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../documents/document-repository */ \"./documents/document-repository.js\");\n\nfunction getDocument(req, res) {\n  var document = _documents_document_repository__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDocument(req.params.documentId).history;\n  res.json(document);\n}\n\n//# sourceURL=webpack:///./src/get.js?");

/***/ }),

/***/ "./src/server.js":
/*!***********************!*\
  !*** ./src/server.js ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(__dirname) {/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http */ \"http\");\n/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(http__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! socket.io */ \"socket.io\");\n/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(socket_io__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var node_schedule__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! node-schedule */ \"node-schedule\");\n/* harmony import */ var node_schedule__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(node_schedule__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _get__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./get */ \"./src/get.js\");\n/* harmony import */ var _socket__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./socket */ \"./src/socket.js\");\n/* harmony import */ var _documents_document_repository__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./../documents/document-repository */ \"./documents/document-repository.js\");\n\n\n\n\n\n\n\n\n\nvar port = process.env.PORT || 1337;\nvar app = express__WEBPACK_IMPORTED_MODULE_1___default()();\napp.use(express__WEBPACK_IMPORTED_MODULE_1___default.a.static(path__WEBPACK_IMPORTED_MODULE_3___default.a.join(__dirname, 'public')));\napp.use(cors__WEBPACK_IMPORTED_MODULE_4___default()({\n  origin: ['http://localhost:8080', 'https://text-sourcing.tomasz-rewak.com']\n}));\napp.get(['/document/:documentId'], _get__WEBPACK_IMPORTED_MODULE_6__[\"default\"]);\nvar server = http__WEBPACK_IMPORTED_MODULE_0___default.a.Server(app);\nvar io = new socket_io__WEBPACK_IMPORTED_MODULE_2___default.a(server);\nio.origins(['http://localhost:8080', 'https://text-sourcing.tomasz-rewak.com:443']);\nio.on('connection', _socket__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\nserver.listen(port, function () {\n  return console.log(\"Example app listening on port \".concat(port, \"!\"));\n});\nnode_schedule__WEBPACK_IMPORTED_MODULE_5___default.a.scheduleJob({\n  hour: 0,\n  minute: 0\n}, function () {\n  _documents_document_repository__WEBPACK_IMPORTED_MODULE_8__[\"default\"].removeOldDocuments();\n});\n/* WEBPACK VAR INJECTION */}.call(this, \"/\"))\n\n//# sourceURL=webpack:///./src/server.js?");

/***/ }),

/***/ "./src/socket.js":
/*!***********************!*\
  !*** ./src/socket.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return handleSocketConnection; });\n/* harmony import */ var _documents_document_repository__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../documents/document-repository */ \"./documents/document-repository.js\");\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\nvar SocketConnection =\n/*#__PURE__*/\nfunction () {\n  function SocketConnection(socket) {\n    _classCallCheck(this, SocketConnection);\n\n    this._socket = socket;\n    this._documentId = socket.handshake.query.document;\n    this._document = _documents_document_repository__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getDocument(this._documentId);\n\n    this._initialize();\n  }\n\n  _createClass(SocketConnection, [{\n    key: \"_initialize\",\n    value: function _initialize() {\n      this._socket.join(this._documentId);\n\n      this._socket.emit('document snapshot', this._document.history);\n\n      this._socket.on('document change', this._onDocumentChanged.bind(this));\n\n      this._socket.on('disconnect', this._onDisconected.bind(this));\n    }\n  }, {\n    key: \"_prepareEvent\",\n    value: function _prepareEvent(event) {\n      return _objectSpread({}, event, {\n        timestamp: Date.now(),\n        author: this._socket.id\n      });\n    }\n  }, {\n    key: \"_addEvent\",\n    value: function _addEvent(event) {\n      var preparedEvent = this._prepareEvent(event);\n\n      var success = this._document.addEvent(preparedEvent);\n\n      if (!success) return null;\n\n      this._broadcastEvent(preparedEvent);\n\n      return preparedEvent.timestamp;\n    }\n  }, {\n    key: \"_broadcastEvent\",\n    value: function _broadcastEvent(event) {\n      this._socket.broadcast.to(this._documentId).emit('document change', event);\n    }\n  }, {\n    key: \"_onDocumentChanged\",\n    value: function _onDocumentChanged(event, callback) {\n      try {\n        callback(this._addEvent(event));\n      } catch (e) {\n        console.log(e);\n        callback(null);\n      }\n    }\n  }, {\n    key: \"_onDisconected\",\n    value: function _onDisconected() {\n      this._addEvent({\n        type: 'manage-carets',\n        operation: 'remove-carets'\n      });\n    }\n  }]);\n\n  return SocketConnection;\n}();\n\nfunction handleSocketConnection(socket) {\n  var connection = new SocketConnection(socket);\n}\n\n//# sourceURL=webpack:///./src/socket.js?");

/***/ }),

/***/ 0:
/*!*********************************************!*\
  !*** multi @babel/polyfill ./src/server.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! @babel/polyfill */\"@babel/polyfill\");\nmodule.exports = __webpack_require__(/*! ./src/server.js */\"./src/server.js\");\n\n\n//# sourceURL=webpack:///multi_@babel/polyfill_./src/server.js?");

/***/ }),

/***/ "@babel/polyfill":
/*!**********************************!*\
  !*** external "@babel/polyfill" ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@babel/polyfill\");\n\n//# sourceURL=webpack:///external_%22@babel/polyfill%22?");

/***/ }),

/***/ "cors":
/*!***********************!*\
  !*** external "cors" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cors\");\n\n//# sourceURL=webpack:///external_%22cors%22?");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"express\");\n\n//# sourceURL=webpack:///external_%22express%22?");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"http\");\n\n//# sourceURL=webpack:///external_%22http%22?");

/***/ }),

/***/ "node-schedule":
/*!********************************!*\
  !*** external "node-schedule" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"node-schedule\");\n\n//# sourceURL=webpack:///external_%22node-schedule%22?");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"path\");\n\n//# sourceURL=webpack:///external_%22path%22?");

/***/ }),

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"socket.io\");\n\n//# sourceURL=webpack:///external_%22socket.io%22?");

/***/ })

/******/ });